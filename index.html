<!DOCTYPE html>
<html>
<head>
    <style>
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: transparent;
            transition: all 0.8s ease;
            mix-blend-mode: multiply;
        }
        .slider {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            -webkit-appearance: none;
            height: 2px;
            background: rgba(255, 255, 255, 0.7);
            outline: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: white;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(0,0,0,0.2);
        }
    </style>
</head>
<body>
    <div class="overlay" id="overlay"></div>
    <input 
        type="range" 
        min="2200" 
        max="5000" 
        value="2200" 
        class="slider" 
        id="tempSlider"
    >

    <script>
        const slider = document.getElementById('tempSlider');
        const overlay = document.getElementById('overlay');

        function kelvinToColor(kelvin) {
            const temp = kelvin / 100;
            let r, g, b;
            
            if (temp <= 66) {
                r = 255;
                g = temp;
                g = 99.4708025861 * Math.log(g) - 161.1195681661;
                b = temp <= 19 ? 0 : temp - 10;
                b = 138.5177312231 * Math.log(b) - 305.0447927307;
            } else {
                r = temp - 60;
                r = 329.698727446 * Math.pow(r, -0.1332047592);
                g = temp - 60;
                g = 288.1221695283 * Math.pow(g, -0.0755148492);
                b = 255;
            }
            
            return {
                r: Math.min(255, Math.max(0, r)),
                g: Math.min(255, Math.max(0, g)),
                b: Math.min(255, Math.max(0, b))
            };
        }

        slider.oninput = function() {
            const color = kelvinToColor(this.value);
            const opacity = 0.15; // Reduced opacity for subtler effect
            overlay.style.backgroundColor = 
                `rgba(${color.r}, ${color.g}, ${color.b}, ${opacity})`;
        }

        // Initialize with warm tone
        slider.oninput();
    </script>
</body>
</html>
